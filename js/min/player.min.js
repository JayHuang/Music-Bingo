function RandomChanged(){var i=$("ol div li").not(".played").not(".playing").length,n=Math.floor(Math.random()*i);$("ol li.playing").removeClass("playing"),$("ol div li").not(".played").not(".playing")[n].classList.add("playing"),updateQueued()}function updateQueued(){var i=$(".playing").nextAll("li").not(".played").first();if($(".queued").removeClass("queued"),document.getElementById("Random").checked){var n=$("ol div li").not(".played").not(".playing").length,t=Math.floor(Math.random()*n);$("ol div li").not(".played").not(".playing")[t].classList.add("queued")}else i.length||(i=$(".playing").parent().nextAll(".col").find("li").not(".played").first(),i.length||(i=$("ol li").not(".played").first())),i.addClass("queued")}function makeBingo(){var i=$('<div id="holdBingo" style = "display: none"></div>').appendTo("#listing");$('<input type="text" id="CardID" value="">').appendTo(i),$('<div id="cardTitle"></div>').appendTo(i),i=$('<div id="pattern"></div>').appendTo(i);for(var n=0;25>n;n++)$('<div class="slot"></div>').appendTo(i)}function otherpage(){buttonSet?(buttonSet=!1,$("#listing ol").hide(),$("#holdBingo").show()):(buttonSet=!0,$("#listing ol").show(),$("#holdBingo").hide())}var buttonSet=!0;$(function(){function i(){var i="songs/",n=$("<ol>");$(window.songlist.songs).each(function(t,e){$("<a>",{text:e.songname+" - "+e.artist,"class":"song"}).attr("data-src",i+e.file).attr("data-playcount","0").attr("data-songid",e.id).appendTo(n).wrap("<li></li>")}),n.appendTo("#listing"),window.musicbingo={origwidth:$("ol").find("li").width(),origheight:$("ol").find("li").height(),marginbottom:parseInt($("ol").find("li").css("margin-bottom"))},$("ol").find("li").each(function(){$(this).hover(function(){$(this).stop().animate({height:2*window.musicbingo.origheight+window.musicbingo.marginbottom},200),$(this).children(":first").css({overflow:"visible","white-space":"normal"})},function(){$(this).stop().animate({height:window.musicbingo.origheight},100),$(this).children(":first").css({overflow:"hidden","white-space":"nowrap"})})}),n.appendTo("#listing")}function n(){var i,n=0,t=5,e=Math.ceil($("ol").find("li").length/t);$("ol").find("li").each(function(){n%e===0&&(i=$('<div class="col"></div>').appendTo("ol")),$(this).appendTo(i),n++})}function t(){var i=$("ol").width(),n=parseInt($("ol").find("li").css("marginLeft"))+parseInt($("ol").find("li").css("marginRight"));$("ol").find("li").each(function(){$(this).width(i/5-n)}),window.musicbingo.origwidth=$("ol").find("li").width(),window.musicbingo.origheight=$("ol").find("li").height()}function e(){if(document.getElementById("Random").checked){var i=$("ol div li").not(".played").length,n=Math.floor(Math.random()*i);$("ol div li").not(".played")[n].classList.add("playing")}else $("ol").find("li").first().addClass("playing")}function a(){$("div.playing")[0]&&$("li.playing").addClass("played")}function l(i){var n=$(".playing"),t=i||$("ol li.queued"),e=n.children("a.song").attr("data-playcount");t.length||(t=$(".playing").parent().nextAll(".col").find("li").not(".played").first(),t.length||(t=$("ol li").not(".played").first())),n.children("a.song").attr("data-playcount",++e),n.removeClass("playing"),t.addClass("playing"),p.load($("a",t).attr("data-src")),document.getElementById("Auto").checked&&(n.addClass("played"),p.play())}function o(){var i=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],n=cardlist.cards[document.getElementById("CardID").value.replace(/[A-Za-z]+/g,"")-1];if(n.id!=document.getElementById("CardID").value)alert("ID dosent exist");else{for(var t=0;t<n.info.length;t++)for(var e=0;e<$(".played a.song").length;e++)if($(".played a.song")[e].getAttribute("data-songid")==n.info[t]){i[t]=!0;break}for(var a=0,l="";a<i.length;)l+=i[a++],a%5==0&&(l+="\n");console.log("ok");for(var a=0;a<i.length;a++)1==i[a]?$(".slot")[a].classList.add("played"):$(".slot")[a].classList.remove("played")}}i(),n(),makeBingo(),t();var d,s=document.body,r=document.getElementById("player");window.addEventListener("scroll",function(){clearTimeout(d),s.classList.contains("disable-hover")||s.classList.add("disable-hover"),d=setTimeout(function(){s.classList.remove("disable-hover")},100)},!1),$(window).scroll(function(){$(window).scrollTop()>=70?$(r).addClass("fixedplayer"):$(r).removeClass("fixedplayer")}),$(window).resize(function(){c(function(){t()},30,"8239839")}),$("#resetsongs").on("click",function(i){i.preventDefault(),$("ol").find("li").each(function(){$(this).removeClass("played playing queued").attr("data-playcount",0)})});var c=function(){var i={};return function(n,t,e){e||(e="Don't call this twice without a uniqueId"),i[e]&&clearTimeout(i[e]),i[e]=setTimeout(n,t)}}(),u=audiojs.createAll({trackEnded:function(){l(),updateQueued()}}),p=u[0];first=$("ol a").attr("data-src"),e(),updateQueued(),p.load(first),$("ol").find("li").click(function(i){i.preventDefault(),l($(this)),updateQueued()}),$("div .play-pause").click(function(i){i.preventDefault(),a()}),$(document).keydown(function(i){var n=i.charCode?i.charCode:i.keyCode;if(39==n){var t=$(".playing").next();t.length||(t=$("ol").find("li").first()),t.click()}else if(37==n){var e=$(".playing").prev();e.length||(e=$("ol").find("li").last()),e.click()}else 32==n&&p.playPause()}),$("#CardID").keyup(function(i){13==i.keyCode&&o()})});