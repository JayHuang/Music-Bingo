angular.module("cms").controller("SongCtrl",function(n,e,t,o){"use strict";var l=n.songs=o.get();n.newSong="",n.editedSong=null,n.$watch("songs",function(e,i){n.remainingCount=t("filter")(l,{completed:!1}).length,n.completedCount=l.length-n.remainingCount,n.allChecked=!n.remainingCount,e!==i&&o.put(l)},!0),n.addSong=function(){var e=n.newSong.trim(),t=n.newArtist.trim(),o=document.getElementById("intermission");!e.length||!t.length||l.length>=75||(1==o.checked?intermissionSongs.push({title:e,completed:!1}):l.push({title:e,completed:!1}),n.newSong="",n.newArtist="",document.getElementById("File-upload").value=null)},n.autoAddSongs=function(){console.log("autoAddSongs called");for(var n=75,e=document.getElementById("File-upload-auto-add"),t=0;n>t;t++)l.push({title:e.files[t].name,completed:!1});document.getElementById("File-upload-auto-add").value=null},n.addSample=function(){document.getElementByID("File-upload-sample")},n.AddIntro=function(){docment.getElementByID("File-upload-intro")},n.editSong=function(e){n.editSong=e,n.originalSong=angular.extend({},e)},n.doneEditing=function(e){n.editedSong=null,e.title=e.title.trim(),e.title||n.removeSong(e)},n.revertEditing=function(e){l[l.indexOf(e)]=n.originalSong,n.doneEditing(n.originalSong)},n.removeSong=function(n){l.splice(l.indexOf(n),1)},n.removeAllSongs=function(n){for(var e=0;75>e;e++)l.splice(l.indexOf(n),1)},n.clearCompletedSongs=function(){n.songs=l=l.filter(function(n){return!n.completed})},n.markAll=function(n){l.forEach(function(e){e.completed=!n})}});